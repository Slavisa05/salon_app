{% extends "base.html" %}

{% block title %}
    Stranica za login
{% endblock title %}

{% block description %}
    Login korisnika
{% endblock description %}

{% block nav %}
    {% include "partials/navbar.html" %}
{% endblock nav %}

{% block content %}
    <main>
        <section class="register-page-section">
            <h1>Uloguj se</h1>

            {% if form.non_field_errors %}
                {{ form.non_field_errors }}
            {% endif %}

            <div class="register-page-container">
                <form class="register-form" method="POST">
                    {% csrf_token %}

                    <div>
                        <label for="{{ form.username.id_for_label }}">{{ form.username.label }}</label>
                        {{ form.username }}
                        {% if form.username.errors %}
                            {{ form.username.errors }}
                        {% endif %}
                    </div>

                    <div class="password-field-wrap">
                        <label for="{{ form.password.id_for_label }}">{{ form.password.label }}</label>
                        {{ form.password }}
                        <button type="button" class="password-toggle-btn" data-target="{{ form.password.id_for_label }}" aria-label="Prikaži lozinku" aria-pressed="false">
                            <span class="eye-icon eye-open" aria-hidden="true">
                                <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M1 12C1 12 5 5 12 5C19 5 23 12 23 12C23 12 19 19 12 19C5 19 1 12 1 12Z" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round"/>
                                    <circle cx="12" cy="12" r="3" stroke="currentColor" stroke-width="1.8"/>
                                </svg>
                            </span>
                            <span class="eye-icon eye-closed" aria-hidden="true">
                                <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M3 3L21 21" stroke="currentColor" stroke-width="1.8" stroke-linecap="round"/>
                                    <path d="M10.58 10.58C10.21 10.95 10 11.46 10 12C10 13.1 10.9 14 12 14C12.54 14 13.05 13.79 13.42 13.42" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round"/>
                                    <path d="M9.36 5.33C10.21 5.11 11.09 5 12 5C19 5 23 12 23 12C22.39 13.14 21.57 14.15 20.58 15" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round"/>
                                    <path d="M6.61 6.61C4.42 8.1 2.91 10.36 1 12C1 12 5 19 12 19C13.64 19 15.16 18.61 16.5 17.92" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round"/>
                                </svg>
                            </span>
                        </button>
                        {% if form.password.errors %}
                            {{ form.password.errors }}
                        {% endif %}
                    </div>

                    {% if next %}
                        <input type="hidden" name="next" value="{{ next }}">
                    {% endif %}

                    <div class="inline-div">
                        <button type="submit" class="main-btn">Uloguj se</button>
                    </div>

                    <a href="{% url 'register' %}" class="register-login-link">Nemaš nalog? Registruj se</a>
                </form>
            </div>
        </section>
    </main>

{% endblock content %}

{% block footer %}
    {% include "partials/footer.html" %}
{% endblock footer %}